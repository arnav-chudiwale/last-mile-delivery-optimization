
<!DOCTYPE html>
<html>
<head>
    <title>Overtime-Outsourcing Optimization Analysis</title>
    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .container { 
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        h1 { 
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 8px;
        }
        .metric-value {
            font-size: 2em;
            font-weight: bold;
        }
        .charts-container {
            margin: 30px 0;
        }
        .chart-wrapper {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .chart-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        canvas {
            max-height: 500px;
        }
        .optimal-box {
            background: #e8f5e9;
            border-left: 4px solid #4CAF50;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .optimal-box h3 {
            color: #2E7D32;
            margin-bottom: 15px;
        }
        .optimal-detail {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .optimal-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .optimal-item-label {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 5px;
        }
        .optimal-item-value {
            color: #333;
            font-size: 1.3em;
            font-weight: bold;
        }
        .section {
            margin: 40px 0;
        }
        .section-title {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¯ Overtime-Outsourcing Optimization</h1>
        <p class="subtitle">Sensitivity Analysis & Cost Trade-off Visualization</p>

        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-label">Optimal Overtime Hours</div>
                <div class="metric-value">2.0</div>
                <div class="metric-label">hours per driver</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Total Additional Cost</div>
                <div class="metric-value">$26,425</div>
                <div class="metric-label">at optimal point</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Packages Outsourced</div>
                <div class="metric-value">1922</div>
                <div class="metric-label">49.2% of peak demand</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Capacity from Overtime</div>
                <div class="metric-value">383</div>
                <div class="metric-label">packages</div>
            </div>
        </div>

        <div class="optimal-box">
            <h3>ðŸ“Š Optimal Solution Breakdown</h3>
            <div class="optimal-detail">
                <div class="optimal-item">
                    <div class="optimal-item-label">Overtime Cost</div>
                    <div class="optimal-item-value">$2,400.00</div>
                </div>
                <div class="optimal-item">
                    <div class="optimal-item-label">Outsource Cost</div>
                    <div class="optimal-item-value">$24,025.01</div>
                </div>
                <div class="optimal-item">
                    <div class="optimal-item-label">Total Additional</div>
                    <div class="optimal-item-value">$26,425.00</div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">Interactive Cost Analysis</div>
            
            <div class="chart-wrapper">
                <div class="chart-title">Total Cost Optimization Curve</div>
                <canvas id="costCurveChart"></canvas>
            </div>

            <div class="chart-wrapper">
                <div class="chart-title">Cost Breakdown by Component</div>
                <canvas id="breakdownChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        const overtimeRange = [0.0, 0.020202020202020204, 0.04040404040404041, 0.06060606060606061, 0.08080808080808081, 0.10101010101010102, 0.12121212121212122, 0.14141414141414144, 0.16161616161616163, 0.18181818181818182, 0.20202020202020204, 0.22222222222222224, 0.24242424242424243, 0.26262626262626265, 0.2828282828282829, 0.30303030303030304, 0.32323232323232326, 0.3434343434343435, 0.36363636363636365, 0.38383838383838387, 0.4040404040404041, 0.42424242424242425, 0.4444444444444445, 0.4646464646464647, 0.48484848484848486, 0.5050505050505051, 0.5252525252525253, 0.5454545454545455, 0.5656565656565657, 0.5858585858585859, 0.6060606060606061, 0.6262626262626263, 0.6464646464646465, 0.6666666666666667, 0.686868686868687, 0.7070707070707072, 0.7272727272727273, 0.7474747474747475, 0.7676767676767677, 0.787878787878788, 0.8080808080808082, 0.8282828282828284, 0.8484848484848485, 0.8686868686868687, 0.888888888888889, 0.9090909090909092, 0.9292929292929294, 0.9494949494949496, 0.9696969696969697, 0.98989898989899, 1.0101010101010102, 1.0303030303030305, 1.0505050505050506, 1.0707070707070707, 1.090909090909091, 1.1111111111111112, 1.1313131313131315, 1.1515151515151516, 1.1717171717171717, 1.191919191919192, 1.2121212121212122, 1.2323232323232325, 1.2525252525252526, 1.272727272727273, 1.292929292929293, 1.3131313131313131, 1.3333333333333335, 1.3535353535353536, 1.373737373737374, 1.393939393939394, 1.4141414141414144, 1.4343434343434345, 1.4545454545454546, 1.474747474747475, 1.494949494949495, 1.5151515151515154, 1.5353535353535355, 1.5555555555555556, 1.575757575757576, 1.595959595959596, 1.6161616161616164, 1.6363636363636365, 1.6565656565656568, 1.676767676767677, 1.696969696969697, 1.7171717171717173, 1.7373737373737375, 1.7575757575757578, 1.777777777777778, 1.7979797979797982, 1.8181818181818183, 1.8383838383838385, 1.8585858585858588, 1.878787878787879, 1.8989898989898992, 1.9191919191919193, 1.9393939393939394, 1.9595959595959598, 1.97979797979798, 2.0];
        const totalCosts = [28825.0, 28800.757575757576, 28776.51515151515, 28752.272727272728, 28728.030303030304, 28703.787878787876, 28679.545454545452, 28655.303030303032, 28631.060606060604, 28606.818181818184, 28582.575757575756, 28558.333333333336, 28534.09090909091, 28509.848484848484, 28485.60606060606, 28461.36363636364, 28437.121212121212, 28412.878787878788, 28388.63636363636, 28364.39393939394, 28340.151515151516, 28315.90909090909, 28291.666666666664, 28267.424242424244, 28243.181818181816, 28218.939393939396, 28194.696969696968, 28170.454545454544, 28146.212121212124, 28121.969696969696, 28097.727272727272, 28073.48484848485, 28049.242424242424, 28025.0, 28000.757575757576, 27976.51515151515, 27952.272727272728, 27928.030303030304, 27903.787878787876, 27879.545454545452, 27855.303030303032, 27831.060606060608, 27806.818181818184, 27782.575757575756, 27758.333333333336, 27734.09090909091, 27709.848484848484, 27685.60606060606, 27661.36363636364, 27637.121212121212, 27612.878787878788, 27588.63636363636, 27564.39393939394, 27540.151515151516, 27515.90909090909, 27491.666666666664, 27467.424242424244, 27443.181818181816, 27418.939393939392, 27394.696969696968, 27370.454545454544, 27346.212121212124, 27321.969696969696, 27297.727272727272, 27273.48484848485, 27249.242424242424, 27225.0, 27200.757575757576, 27176.515151515152, 27152.272727272728, 27128.030303030304, 27103.787878787876, 27079.545454545452, 27055.303030303032, 27031.060606060608, 27006.818181818184, 26982.57575757576, 26958.333333333332, 26934.09090909091, 26909.848484848484, 26885.60606060606, 26861.363636363636, 26837.121212121212, 26812.878787878788, 26788.636363636364, 26764.39393939394, 26740.151515151516, 26715.90909090909, 26691.666666666664, 26667.42424242424, 26643.181818181816, 26618.939393939392, 26594.696969696968, 26570.454545454548, 26546.212121212124, 26521.969696969696, 26497.727272727272, 26473.484848484848, 26449.242424242424, 26425.0];
        const overtimeCosts = [0.0, 24.242424242424246, 48.48484848484849, 72.72727272727273, 96.96969696969698, 121.21212121212123, 145.45454545454547, 169.69696969696972, 193.93939393939397, 218.1818181818182, 242.42424242424246, 266.6666666666667, 290.90909090909093, 315.1515151515152, 339.39393939393943, 363.6363636363636, 387.87878787878793, 412.1212121212122, 436.3636363636364, 460.6060606060606, 484.84848484848493, 509.0909090909091, 533.3333333333334, 557.5757575757576, 581.8181818181819, 606.0606060606061, 630.3030303030304, 654.5454545454546, 678.7878787878789, 703.030303030303, 727.2727272727273, 751.5151515151515, 775.7575757575759, 800.0000000000001, 824.2424242424244, 848.4848484848486, 872.7272727272727, 896.969696969697, 921.2121212121212, 945.4545454545455, 969.6969696969699, 993.9393939393941, 1018.1818181818182, 1042.4242424242425, 1066.6666666666667, 1090.909090909091, 1115.1515151515152, 1139.3939393939395, 1163.6363636363637, 1187.878787878788, 1212.1212121212122, 1236.3636363636365, 1260.6060606060607, 1284.8484848484848, 1309.0909090909092, 1333.3333333333335, 1357.5757575757577, 1381.818181818182, 1406.060606060606, 1430.3030303030305, 1454.5454545454545, 1478.787878787879, 1503.030303030303, 1527.2727272727275, 1551.5151515151517, 1575.7575757575758, 1600.0000000000002, 1624.2424242424242, 1648.4848484848487, 1672.7272727272727, 1696.9696969696972, 1721.2121212121215, 1745.4545454545455, 1769.69696969697, 1793.939393939394, 1818.1818181818185, 1842.4242424242425, 1866.6666666666667, 1890.909090909091, 1915.1515151515152, 1939.3939393939397, 1963.6363636363637, 1987.8787878787882, 2012.1212121212122, 2036.3636363636365, 2060.606060606061, 2084.848484848485, 2109.0909090909095, 2133.3333333333335, 2157.575757575758, 2181.818181818182, 2206.060606060606, 2230.3030303030305, 2254.5454545454545, 2278.787878787879, 2303.030303030303, 2327.2727272727275, 2351.515151515152, 2375.757575757576, 2400.0];
        const outsourceCosts = [28825.0, 28776.515151515152, 28728.0303030303, 28679.545454545456, 28631.060606060608, 28582.575757575756, 28534.090909090908, 28485.606060606064, 28437.121212121212, 28388.636363636364, 28340.151515151512, 28291.666666666668, 28243.18181818182, 28194.696969696968, 28146.21212121212, 28097.727272727276, 28049.242424242424, 28000.757575757576, 27952.272727272724, 27903.78787878788, 27855.303030303032, 27806.81818181818, 27758.333333333332, 27709.848484848488, 27661.363636363636, 27612.878787878788, 27564.393939393936, 27515.90909090909, 27467.424242424244, 27418.939393939392, 27370.454545454544, 27321.9696969697, 27273.484848484848, 27225.0, 27176.515151515152, 27128.0303030303, 27079.545454545456, 27031.060606060608, 26982.575757575756, 26934.090909090908, 26885.606060606064, 26837.121212121212, 26788.636363636364, 26740.151515151512, 26691.666666666668, 26643.18181818182, 26594.696969696968, 26546.21212121212, 26497.727272727276, 26449.242424242424, 26400.757575757576, 26352.272727272724, 26303.78787878788, 26255.303030303032, 26206.81818181818, 26158.333333333332, 26109.848484848488, 26061.363636363636, 26012.878787878788, 25964.393939393936, 25915.90909090909, 25867.424242424244, 25818.939393939392, 25770.454545454544, 25721.9696969697, 25673.484848484848, 25625.0, 25576.515151515152, 25528.030303030304, 25479.545454545456, 25431.060606060608, 25382.575757575756, 25334.090909090908, 25285.60606060606, 25237.121212121212, 25188.636363636364, 25140.151515151516, 25091.666666666664, 25043.18181818182, 24994.696969696968, 24946.21212121212, 24897.727272727272, 24849.242424242424, 24800.757575757576, 24752.272727272728, 24703.78787878788, 24655.303030303032, 24606.81818181818, 24558.333333333332, 24509.848484848484, 24461.363636363636, 24412.878787878788, 24364.393939393936, 24315.909090909092, 24267.424242424244, 24218.939393939392, 24170.454545454544, 24121.969696969696, 24073.484848484848, 24025.0];
        const optimalHours = 2.0;
        const optimalCost = 26425.0;

        // Chart 1: Total Cost Curve with Optimal Point
        new Chart(document.getElementById('costCurveChart'), {
            type: 'line',
            data: {
                labels: overtimeRange,
                datasets: [
                    {
                        label: 'Total Additional Cost',
                        data: totalCosts,
                        borderColor: 'rgba(54, 162, 235, 1)',
                        backgroundColor: 'rgba(54, 162, 235, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0
                    },
                    {
                        label: 'Optimal Point',
                        data: [{x: optimalHours, y: optimalCost}],
                        backgroundColor: 'rgba(255, 99, 132, 1)',
                        borderColor: 'rgba(255, 99, 132, 1)',
                        pointRadius: 10,
                        pointHoverRadius: 15,
                        showLine: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                interaction: {
                    intersect: false,
                    mode: 'index'
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return 'Cost: $' + context.parsed.y.toLocaleString();
                                } else {
                                    return 'Optimal: $' + context.parsed.y.toLocaleString() + ' at ' + optimalHours.toFixed(3) + ' hours';
                                }
                            },
                            title: function(context) {
                                return 'Overtime Hours: ' + parseFloat(context[0].label).toFixed(2);
                            }
                        }
                    },
                    annotation: {
                        annotations: {
                            line1: {
                                type: 'line',
                                xMin: optimalHours,
                                xMax: optimalHours,
                                borderColor: 'rgba(255, 99, 132, 0.5)',
                                borderWidth: 2,
                                borderDash: [6, 6],
                                label: {
                                    display: true,
                                    content: 'Optimal: ' + optimalHours.toFixed(3) + ' hrs',
                                    position: 'start'
                                }
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Overtime Hours per Driver',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        ticks: {
                            callback: function(value, index) {
                                return index % 10 === 0 ? value.toFixed(1) : '';
                            }
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Total Additional Cost ($)',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                }
            }
        });

        // Chart 2: Stacked Area Chart for Cost Components
        new Chart(document.getElementById('breakdownChart'), {
            type: 'line',
            data: {
                labels: overtimeRange,
                datasets: [
                    {
                        label: 'Overtime Costs',
                        data: overtimeCosts,
                        backgroundColor: 'rgba(255, 159, 64, 0.7)',
                        borderColor: 'rgba(255, 159, 64, 1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0
                    },
                    {
                        label: 'Outsource Costs',
                        data: outsourceCosts,
                        backgroundColor: 'rgba(70, 130, 180, 0.7)',
                        borderColor: 'rgba(70, 130, 180, 1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                interaction: {
                    intersect: false,
                    mode: 'index'
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.parsed.y.toLocaleString();
                            },
                            title: function(context) {
                                return 'Overtime Hours: ' + parseFloat(context[0].label).toFixed(2);
                            }
                        }
                    },
                    annotation: {
                        annotations: {
                            line1: {
                                type: 'line',
                                xMin: optimalHours,
                                xMax: optimalHours,
                                borderColor: 'rgba(255, 99, 132, 0.8)',
                                borderWidth: 2,
                                borderDash: [6, 6],
                                label: {
                                    display: true,
                                    content: 'Optimal',
                                    position: 'start',
                                    backgroundColor: 'rgba(255, 99, 132, 0.8)'
                                }
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Overtime Hours per Driver',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        ticks: {
                            callback: function(value, index) {
                                return index % 10 === 0 ? value.toFixed(1) : '';
                            }
                        }
                    },
                    y: {
                        stacked: false,
                        title: {
                            display: true,
                            text: 'Cost ($)',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
        